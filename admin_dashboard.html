<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | Emma-Health Center</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Dashboard Header -->
    <div class="dashboard-header">
        <div class="container dashboard-nav">
            <div class="logo">
                <i class="fas fa-hospital logo-icon"></i>
                <div class="logo-text">EMMA<span>-HEALTH</span> <span class="admin-badge">Admin</span></div>
            </div>
            
            <div class="user-menu">
                <div class="notifications">
                    <i class="fas fa-bell"></i>
                    <span class="badge" id="notificationCount">3</span>
                    <div class="notification-dropdown">
                        <div class="notification-item">
                            <i class="fas fa-exclamation-circle"></i>
                            <div>
                                <strong>System Alert</strong>
                                <p>Database backup overdue</p>
                                <small>2 hours ago</small>
                            </div>
                        </div>
                        <div class="notification-item">
                            <i class="fas fa-user-plus"></i>
                            <div>
                                <strong>New User</strong>
                                <p>Dr. Smith registered</p>
                                <small>4 hours ago</small>
                            </div>
                        </div>
                        <a href="#" class="view-all">View all notifications</a>
                    </div>
                </div>
                
                <div class="user-info">
                    <div class="user-name" id="adminName">System Administrator</div>
                    <div class="user-role">Hospital Administrator</div>
                </div>
                <div class="user-avatar" id="adminAvatar">SA</div>
                <div class="user-dropdown">
                    <a href="admin_profile.html"><i class="fas fa-user-cog"></i> My Profile</a>
                    <a href="system_logs.html"><i class="fas fa-history"></i> Activity Log</a>
                    <div class="divider"></div>
                    <a href="index.html" class="logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Container -->
    <div class="dashboard-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="system-status">
                    <div class="status-indicator online"></div>
                    <span>System Online</span>
                </div>
                <div class="last-login">
                    Last login: Today, 09:42 AM
                </div>
            </div>
            
            <ul class="sidebar-menu">
                <li><a href="#dashboard" class="active"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                <li><a href="#userManagement"><i class="fas fa-users-cog"></i> User Management</a></li>
                <li><a href="#systemSettings"><i class="fas fa-cogs"></i> System Settings</a></li>
                <li><a href="#financialReports"><i class="fas fa-chart-line"></i> Financial Reports</a></li>
                <li><a href="#auditLogs"><i class="fas fa-clipboard-list"></i> Audit Logs</a></li>
                <li><a href="#departmentManagement"><i class="fas fa-sitemap"></i> Departments</a></li>
                <li><a href="#inventoryControl"><i class="fas fa-boxes"></i> Inventory Control</a></li>
                <li><a href="#backupRestore"><i class="fas fa-database"></i> Backup & Restore</a></li>
                <li><a href="#securitySettings"><i class="fas fa-shield-alt"></i> Security</a></li>
                <li><a href="#systemMonitor"><i class="fas fa-desktop"></i> System Monitor</a></li>
            </ul>
            
            <div class="sidebar-footer">
                <div class="quick-stats">
                    <div class="stat">
                        <div class="stat-value" id="sidebarUsers">--</div>
                        <div class="stat-label">Users Online</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="sidebarAlerts">--</div>
                        <div class="stat-label">Active Alerts</div>
                    </div>
                </div>
                <button class="btn btn-outline btn-sm" onclick="refreshSystemStats()">
                    <i class="fas fa-sync-alt"></i> Refresh
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section class="dashboard-section active" id="dashboard">
                <div class="section-header">
                    <h1>Admin Dashboard</h1>
                    <div class="breadcrumb">
                        <span>Admin</span> <i class="fas fa-chevron-right"></i> <span>Dashboard</span>
                    </div>
                </div>
                
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalUsers">2,610</div>
                            <div class="stat-label">Total Users</div>
                            <div class="stat-change positive">+12%</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-file-medical"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalRecords">45,823</div>
                            <div class="stat-label">Medical Records</div>
                            <div class="stat-change positive">+8%</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="monthlyRevenue">$245.8K</div>
                            <div class="stat-label">Monthly Revenue</div>
                            <div class="stat-change positive">+15%</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-server"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="systemUptime">99.8%</div>
                            <div class="stat-label">System Uptime</div>
                            <div class="stat-change stable">±0%</div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3>System Health</h3>
                            <button class="btn-icon" onclick="refreshSystemHealth()">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                        <div class="card-body">
                            <div class="health-metrics">
                                <div class="metric">
                                    <div class="metric-label">CPU Usage</div>
                                    <div class="metric-bar">
                                        <div class="metric-fill" id="cpuUsage" style="width: 65%;"></div>
                                    </div>
                                    <div class="metric-value">65%</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-label">Memory</div>
                                    <div class="metric-bar">
                                        <div class="metric-fill" id="memoryUsage" style="width: 42%;"></div>
                                    </div>
                                    <div class="metric-value">42%</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-label">Storage</div>
                                    <div class="metric-bar">
                                        <div class="metric-fill" id="storageUsage" style="width: 78%;"></div>
                                    </div>
                                    <div class="metric-value">78%</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-label">Database</div>
                                    <div class="metric-bar">
                                        <div class="metric-fill" id="databaseUsage" style="width: 55%;"></div>
                                    </div>
                                    <div class="metric-value">55%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3>Recent Activities</h3>
                            <a href="#auditLogs" class="btn-link">View All</a>
                        </div>
                        <div class="card-body">
                            <div class="activity-list" id="recentActivities">
                                <!-- Activities loaded via JS -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3>Quick Actions</h3>
                    </div>
                    <div class="card-body">
                        <div class="quick-actions-grid">
                            <button class="quick-action" onclick="openAddUserModal()">
                                <i class="fas fa-user-plus"></i>
                                <span>Add New User</span>
                            </button>
                            <button class="quick-action" onclick="generateFinancialReport()">
                                <i class="fas fa-file-export"></i>
                                <span>Generate Report</span>
                            </button>
                            <button class="quick-action" onclick="performSystemBackup()">
                                <i class="fas fa-database"></i>
                                <span>Backup System</span>
                            </button>
                            <button class="quick-action" onclick="checkSystemSecurity()">
                                <i class="fas fa-shield-alt"></i>
                                <span>Security Scan</span>
                            </button>
                            <button class="quick-action" onclick="openInventoryCheck()">
                                <i class="fas fa-boxes"></i>
                                <span>Inventory Check</span>
                            </button>
                            <button class="quick-action" onclick="viewSystemLogs()">
                                <i class="fas fa-clipboard-list"></i>
                                <span>View Logs</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- User Management Section -->
            <section class="dashboard-section" id="userManagement">
                <div class="section-header">
                    <h1>User Management</h1>
                    <div class="section-actions">
                        <button class="btn btn-primary" onclick="openAddUserModal()">
                            <i class="fas fa-user-plus"></i> Add User
                        </button>
                        <button class="btn btn-outline" onclick="exportUserData()">
                            <i class="fas fa-download"></i> Export
                        </button>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3>All Users</h3>
                        <div class="filter-options">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" id="userSearch" placeholder="Search users...">
                            </div>
                            <select id="userRoleFilter" class="form-control-sm">
                                <option value="">All Roles</option>
                                <option value="doctor">Doctors</option>
                                <option value="nurse">Nurses</option>
                                <option value="pharmacist">Pharmacists</option>
                                <option value="patient">Patients</option>
                                <option value="admin">Administrators</option>
                            </select>
                            <select id="userStatusFilter" class="form-control-sm">
                                <option value="">All Status</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                                <option value="suspended">Suspended</option>
                                <option value="pending">Pending</option>
                            </select>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="data-table" id="usersTable">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" id="selectAllUsers"></th>
                                        <th>User ID</th>
                                        <th>Name</th>
                                        <th>Role</th>
                                        <th>Department</th>
                                        <th>Email</th>
                                        <th>Status</th>
                                        <th>Last Login</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="usersTableBody">
                                    <!-- Users loaded via JavaScript -->
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="table-footer">
                            <div class="table-info">
                                Showing <span id="showingUsers">1-10</span> of <span id="totalUsersCount">250</span> users
                            </div>
                            <div class="pagination">
                                <button class="btn-icon" onclick="prevUserPage()">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <span class="page-info">Page <span id="currentUserPage">1</span> of <span id="totalUserPages">5</span></span>
                                <button class="btn-icon" onclick="nextUserPage()">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                            <div class="bulk-actions">
                                <select id="bulkAction" class="form-control-sm">
                                    <option value="">Bulk Actions</option>
                                    <option value="activate">Activate</option>
                                    <option value="deactivate">Deactivate</option>
                                    <option value="delete">Delete</option>
                                    <option value="export">Export Selected</option>
                                </select>
                                <button class="btn btn-outline" onclick="applyBulkAction()">Apply</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- System Settings Section -->
            <section class="dashboard-section" id="systemSettings">
                <div class="section-header">
                    <h1>System Settings</h1>
                    <div class="section-actions">
                        <button class="btn btn-primary" onclick="saveSystemSettings()">
                            <i class="fas fa-save"></i> Save Changes
                        </button>
                        <button class="btn btn-outline" onclick="resetSystemSettings()">
                            <i class="fas fa-undo"></i> Reset
                        </button>
                    </div>
                </div>
                
                <div class="settings-tabs">
                    <div class="tab-header">
                        <button class="tab-btn active" data-tab="general">General</button>
                        <button class="tab-btn" data-tab="email">Email Settings</button>
                        <button class="tab-btn" data-tab="security">Security</button>
                        <button class="tab-btn" data-tab="maintenance">Maintenance</button>
                        <button class="tab-btn" data-tab="integrations">Integrations</button>
                    </div>
                    
                    <div class="tab-content active" id="generalTab">
                        <div class="settings-grid">
                            <div class="setting-group">
                                <h4>Hospital Information</h4>
                                <div class="form-group">
                                    <label>Hospital Name</label>
                                    <input type="text" class="form-control" value="Emma-Health Center">
                                </div>
                                <div class="form-group">
                                    <label>Contact Email</label>
                                    <input type="email" class="form-control" value="info@emmahealth.center">
                                </div>
                                <div class="form-group">
                                    <label>Contact Phone</label>
                                    <input type="text" class="form-control" value="(555) 123-4567">
                                </div>
                            </div>
                            
                            <div class="setting-group">
                                <h4>System Preferences</h4>
                                <div class="form-group">
                                    <label class="checkbox">
                                        <input type="checkbox" checked>
                                        <span>Enable Two-Factor Authentication</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox">
                                        <input type="checkbox" checked>
                                        <span>Require Strong Passwords</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox">
                                        <input type="checkbox">
                                        <span>Enable Auto-Logout (30 min)</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>Session Timeout (minutes)</label>
                                    <input type="number" class="form-control" value="30" min="5" max="120">
                                </div>
                            </div>
                            
                            <div class="setting-group">
                                <h4>Date & Time</h4>
                                <div class="form-group">
                                    <label>Time Zone</label>
                                    <select class="form-control">
                                        <option value="America/New_York" selected>Eastern Time (ET)</option>
                                        <option value="America/Chicago">Central Time (CT)</option>
                                        <option value="America/Denver">Mountain Time (MT)</option>
                                        <option value="America/Los_Angeles">Pacific Time (PT)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Date Format</label>
                                    <select class="form-control">
                                        <option value="MM/DD/YYYY" selected>MM/DD/YYYY</option>
                                        <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                                        <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Time Format</label>
                                    <select class="form-control">
                                        <option value="12h" selected>12-hour</option>
                                        <option value="24h">24-hour</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="emailTab">
                        <div class="settings-grid">
                            <div class="setting-group">
                                <h4>Email Configuration</h4>
                                <div class="form-group">
                                    <label>SMTP Server</label>
                                    <input type="text" class="form-control" value="smtp.emmahealth.center">
                                </div>
                                <div class="form-group">
                                    <label>SMTP Port</label>
                                    <input type="number" class="form-control" value="587">
                                </div>
                                <div class="form-group">
                                    <label>SMTP Username</label>
                                    <input type="text" class="form-control" value="noreply@emmahealth.center">
                                </div>
                                <div class="form-group">
                                    <label>SMTP Password</label>
                                    <div class="password-input">
                                        <input type="password" class="form-control" value="••••••••">
                                        <button type="button" class="toggle-password">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Encryption</label>
                                    <select class="form-control">
                                        <option value="tls" selected>TLS</option>
                                        <option value="ssl">SSL</option>
                                        <option value="none">None</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="setting-group">
                                <h4>Email Templates</h4>
                                <div class="form-group">
                                    <label>From Name</label>
                                    <input type="text" class="form-control" value="Emma-Health Center">
                                </div>
                                <div class="form-group">
                                    <label>From Email</label>
                                    <input type="email" class="form-control" value="noreply@emmahealth.center">
                                </div>
                                <div class="form-group">
                                    <label>Reply To Email</label>
                                    <input type="email" class="form-control" value="support@emmahealth.center">
                                </div>
                                <div class="form-group">
                                    <label class="checkbox">
                                        <input type="checkbox" checked>
                                        <span>Send Appointment Reminders</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox">
                                        <input type="checkbox" checked>
                                        <span>Send Password Reset Emails</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="setting-group">
                                <h4>Test Email</h4>
                                <p>Send a test email to verify your configuration</p>
                                <div class="form-group">
                                    <label>Test Email Address</label>
                                    <input type="email" class="form-control" placeholder="Enter test email">
                                </div>
                                <button class="btn btn-primary" onclick="testEmailConfiguration()">
                                    <i class="fas fa-paper-plane"></i> Send Test Email
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="securityTab">
                        <div class="settings-grid">
                            <div class="setting-group">
                                <h4>Password Policy</h4>
                                <div class="form-group">
                                    <label>Minimum Password Length</label>
                                    <input type="number" class="form-control" value="8" min="6" max="32">
                                </div>
                                <div class="form-group">
                                    <label>Password Expiry (days)</label>
                                    <input type="number" class="form-control" value="90" min="30" max="365">
                                </div>
                                <div class="form-group">
                                    <label>Max Failed Attempts</label>
                                    <input type="number" class="form-control" value="5" min="3" max="10">
                                </div>
                                <div class="form-group">
                                    <label>Lockout Duration (minutes)</label>
                                    <input type="number" class="form-control" value="30" min="5" max="1440">
                                </div>
                            </div>
                            
                            <div class="setting-group">
                                <h4>Security Headers</h4>
                                <div class="form-group">
                                    <label class="checkbox">
                                        <input type="checkbox" checked>
                                        <span>Enable HTTPS Only</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox">
                                        <input type="checkbox" checked>
                                        <span>Enable Content Security Policy</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox">
                                        <input type="checkbox">
                                        <span>Enable X-Frame-Options</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox">
                                        <input type="checkbox" checked>
                                        <span>Enable HTTP Strict Transport Security</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="setting-group">
                                <h4>IP Restrictions</h4>
                                <div class="form-group">
                                    <label>Allowed IP Addresses</label>
                                    <textarea class="form-control" rows="4" placeholder="Enter IP addresses (one per line)">192.168.1.0/24
10.0.0.0/8</textarea>
                                    <small>Leave empty to allow all IPs</small>
                                </div>
                                <div class="form-group">
                                    <label>Blocked IP Addresses</label>
                                    <textarea class="form-control" rows="4" placeholder="Enter blocked IP addresses"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
<!-- Departments Tab Content -->
<div class="tab-content" id="departmentsTab">
    <div class="settings-grid">
        <div class="setting-group">
            <h4>Add New Department</h4>
            <form id="addDepartmentForm">
                <div class="form-group">
                    <label>Department Name</label>
                    <input type="text" class="form-control" id="deptName" placeholder="e.g., Cardiology, Radiology" required>
                </div>
                <div class="form-group">
                    <label>Department Code</label>
                    <input type="text" class="form-control" id="deptCode" placeholder="e.g., CARD, RAD" required>
                </div>
                <div class="form-group">
                    <label>Department Head</label>
                    <select class="form-control" id="deptHead">
                        <option value="">Select Department Head</option>
                        <!-- Options will be populated via JS -->
                    </select>
                </div>
                <div class="form-group">
                    <label>Contact Email</label>
                    <input type="email" class="form-control" id="deptEmail" placeholder="department@emmahealth.center">
                </div>
                <div class="form-group">
                    <label>Contact Phone</label>
                    <input type="tel" class="form-control" id="deptPhone" placeholder="(123) 456-7890">
                </div>
                <div class="form-group">
                    <label>Location/Building</label>
                    <input type="text" class="form-control" id="deptLocation" placeholder="e.g., Main Building, Floor 3">
                </div>
                <div class="form-group">
                    <label>Department Status</label>
                    <select class="form-control" id="deptStatus">
                        <option value="active">Active</option>
                        <option value="inactive">Inactive</option>
                        <option value="under-construction">Under Construction</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea class="form-control" id="deptDescription" rows="3" placeholder="Brief description of department functions"></textarea>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-plus-circle"></i> Add Department
                    </button>
                    <button type="button" class="btn btn-outline" onclick="resetDepartmentForm()">
                        <i class="fas fa-undo"></i> Reset
                    </button>
                </div>
            </form>
        </div>
        
        <div class="setting-group">
            <h4>Department Management</h4>
            <div class="dept-actions">
                <button class="btn btn-outline" onclick="exportDepartmentReport()">
                    <i class="fas fa-file-export"></i> Export Report
                </button>
                <button class="btn btn-outline" onclick="printDepartmentReport()">
                    <i class="fas fa-print"></i> Print Report
                </button>
                <button class="btn btn-warning" onclick="checkExpiringDepartments()">
                    <i class="fas fa-exclamation-triangle"></i> Check Expiring
                </button>
                <button class="btn btn-outline" onclick="viewAllDepartments()">
                    <i class="fas fa-eye"></i> View All
                </button>
            </div>
            
            <div class="dept-stats">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="totalDepartments">12</div>
                        <div class="stat-label">Total Departments</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-user-md"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="deptStaff">247</div>
                        <div class="stat-label">Total Staff</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-bed"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="deptBeds">385</div>
                        <div class="stat-label">Available Beds</div>
                    </div>
                </div>
            </div>
            
            <div class="table-responsive">
                <table class="data-table" id="departmentsTable">
                    <thead>
                        <tr>
                            <th>Code</th>
                            <th>Department</th>
                            <th>Head</th>
                            <th>Staff</th>
                            <th>Status</th>
                            <th>Last Updated</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="departmentsTableBody">
                        <!-- Departments will be loaded via JS -->
                    </tbody>
                </table>
            </div>
            
            <div class="expiring-departments">
                <h5>Expiring Contracts/Leases</h5>
                <div class="expiring-list" id="expiringDepts">
                    <!-- Expiring departments will be loaded via JS -->
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Backup & Restore Tab Content -->
<div class="tab-content" id="backupTab">
    <div class="settings-grid">
        <div class="setting-group">
            <h4>Backup Configuration</h4>
            <form id="backupSettingsForm">
                <div class="form-group">
                    <label>Backup Frequency</label>
                    <select class="form-control" id="backupFrequency">
                        <option value="daily">Daily</option>
                        <option value="weekly" selected>Weekly</option>
                        <option value="monthly">Monthly</option>
                        <option value="custom">Custom</option>
                    </select>
                </div>
                
                <div class="form-group" id="customFrequencyGroup" style="display: none;">
                    <label>Custom Schedule (Cron Expression)</label>
                    <input type="text" class="form-control" id="customFrequency" placeholder="0 2 * * * (Daily at 2 AM)">
                    <small class="form-text">Use cron syntax: minute hour day month weekday</small>
                </div>
                
                <div class="form-group">
                    <label>Backup Time</label>
                    <input type="time" class="form-control" id="backupTime" value="02:00">
                </div>
                
                <div class="form-group">
                    <label>Retention Period</label>
                    <select class="form-control" id="retentionPeriod">
                        <option value="7">7 days</option>
                        <option value="30" selected>30 days</option>
                        <option value="90">90 days</option>
                        <option value="180">180 days</option>
                        <option value="365">1 year</option>
                        <option value="forever">Keep forever</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="compressBackup" checked>
                        <span>Compress Backup (ZIP)</span>
                    </label>
                    <small class="form-text">Reduces backup size by up to 80%</small>
                </div>
                
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="encryptBackup">
                        <span>Encrypt Backup</span>
                    </label>
                    <small class="form-text">AES-256 encryption for sensitive data</small>
                </div>
                
                <div class="form-group" id="encryptionPasswordGroup" style="display: none;">
                    <label>Encryption Password</label>
                    <input type="password" class="form-control" id="encryptionPassword" placeholder="Enter encryption password">
                    <small class="form-text">Required for restoring encrypted backups</small>
                </div>
                
                <div class="form-group">
                    <label>Backup Storage Location</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="storageLocation" value="local" checked>
                            <span>Local Server</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="storageLocation" value="cloud">
                            <span>Cloud Storage</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="storageLocation" value="both">
                            <span>Both Local & Cloud</span>
                        </label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Include in Backup</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="includeDatabase" checked>
                            <span>Database</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="includeFiles" checked>
                            <span>File Uploads</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="includeLogs">
                            <span>System Logs</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="includeConfig" checked>
                            <span>Configuration Files</span>
                        </label>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Save Settings
                    </button>
                    <button type="button" class="btn btn-outline" onclick="scheduleBackup()">
                        <i class="fas fa-calendar-plus"></i> Schedule Backup
                    </button>
                    <button type="button" class="btn btn-success" onclick="createBackupNow()">
                        <i class="fas fa-database"></i> Create Backup Now
                    </button>
                </div>
            </form>
        </div>
        
        <div class="setting-group">
            <h4>Backup & Restore Operations</h4>
            
            <div class="backup-stats">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-database"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="totalBackups">47</div>
                        <div class="stat-label">Total Backups</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-hdd"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="backupSize">4.2 GB</div>
                        <div class="stat-label">Storage Used</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="lastBackup">2d ago</div>
                        <div class="stat-label">Last Backup</div>
                    </div>
                </div>
            </div>
            
            <div class="backup-actions">
                <h5>Quick Actions</h5>
                <div class="action-buttons">
                    <button class="btn btn-outline" onclick="viewBackupHistory()">
                        <i class="fas fa-history"></i> View History
                    </button>
                    <button class="btn btn-outline" onclick="testRestore()">
                        <i class="fas fa-vial"></i> Test Restore
                    </button>
                    <button class="btn btn-outline" onclick="cleanupOldBackups()">
                        <i class="fas fa-broom"></i> Cleanup Old
                    </button>
                </div>
            </div>
            
            <div class="backup-list">
                <h5>Recent Backups</h5>
                <div class="table-responsive">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Select</th>
                                <th>Date & Time</th>
                                <th>Type</th>
                                <th>Size</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="backupTableBody">
                            <!-- Backups will be loaded via JS -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="restore-section">
                <h5>Restore Options</h5>
                <div class="restore-form">
                    <div class="form-group">
                        <label>Select a Backup</label>
                        <select class="form-control" id="backupSelect">
                            <option value="">Choose backup to restore...</option>
                            <!-- Options will be populated via JS -->
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Restore Type</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="restoreType" value="full" checked>
                                <span>Full Restore</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="restoreType" value="partial">
                                <span>Partial Restore</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group" id="partialRestoreOptions" style="display: none;">
                        <label>Select Components to Restore</label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="restoreComponents" value="database">
                                <span>Database Only</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="restoreComponents" value="files">
                                <span>Files Only</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="restoreComponents" value="config">
                                <span>Configuration</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group" id="restorePasswordGroup" style="display: none;">
                        <label>Enter Restore Password</label>
                        <input type="password" class="form-control" id="restorePassword" placeholder="Password for encrypted backup">
                        <small class="form-text">Required for restoring encrypted backups</small>
                    </div>
                    
                    <div class="form-group">
                        <div class="warning-box">
                            <i class="fas fa-exclamation-triangle"></i>
                            <div>
                                <strong>Warning:</strong> Restoring will overwrite current data. 
                                Make sure you have a current backup before proceeding.
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-danger" onclick="initiateRestore()">
                            <i class="fas fa-redo"></i> Initiate Restore
                        </button>
                        <button type="button" class="btn btn-outline" onclick="validateBackup()">
                            <i class="fas fa-check-circle"></i> Validate Backup
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="backup-schedule">
                <h5>Scheduled Backups</h5>
                <div class="schedule-list" id="scheduleList">
                    <!-- Schedules will be loaded via JS -->
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Security Settings Section -->
<section class="dashboard-section" id="securitySettings">
    <div class="section-header">
        <h1>Security Settings</h1>
        <div class="section-actions">
            <button class="btn btn-primary" onclick="runSecurityScan()">
                <i class="fas fa-shield-alt"></i> Run Security Scan
            </button>
            <button class="btn btn-outline" onclick="saveSecuritySettings()">
                <i class="fas fa-save"></i> Save Changes
            </button>
        </div>
    </div>
    
    <div class="security-settings">
        <div class="settings-grid">
            <div class="setting-group">
                <h4>Authentication Settings</h4>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="require2FA" checked>
                        <span>Require Two-Factor Authentication for admins</span>
                    </label>
                </div>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="passwordExpiry" checked>
                        <span>Enable password expiry (90 days)</span>
                    </label>
                </div>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="sessionTimeout">
                        <span>Enable session timeout (30 minutes)</span>
                    </label>
                </div>
                <div class="form-group">
                    <label>Failed Login Attempts</label>
                    <select class="form-control" id="maxLoginAttempts">
                        <option value="3">3 attempts</option>
                        <option value="5" selected>5 attempts</option>
                        <option value="10">10 attempts</option>
                    </select>
                </div>
            </div>
            
            <div class="setting-group">
                <h4>Access Control</h4>
                <div class="role-list">
                    <div class="role-item">
                        <div class="role-header">
                            <div class="role-name">Administrators</div>
                            <div class="user-count">5 users</div>
                        </div>
                        <div class="permission-list">
                            <div class="permission-item">
                                <input type="checkbox" id="perm-admin-all" checked>
                                <label for="perm-admin-all">Full system access</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="role-item">
                        <div class="role-header">
                            <div class="role-name">Doctors</div>
                            <div class="user-count">42 users</div>
                        </div>
                        <div class="permission-list">
                            <div class="permission-item">
                                <input type="checkbox" id="perm-doc-records" checked>
                                <label for="perm-doc-records">Access patient records</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm-doc-prescribe" checked>
                                <label for="perm-doc-prescribe">Create prescriptions</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm-doc-schedule">
                                <label for="perm-doc-schedule">Manage schedule</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="security-scan-results">
            <h3>Last Security Scan Results</h3>
            <div class="scan-summary">
                <div class="summary-item">
                    <div class="summary-value passed" id="passedChecks">8</div>
                    <div class="summary-label">Passed</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value warning" id="warningChecks">2</div>
                    <div class="summary-label">Warnings</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value failed" id="failedChecks">1</div>
                    <div class="summary-label">Failed</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value" id="totalChecks">11</div>
                    <div class="summary-label">Total Checks</div>
                </div>
            </div>
            
            <div class="security-checks">
                <div class="security-check">
                    <div class="check-header">
                        <h4>Password Policy</h4>
                        <span class="check-status passed">Passed</span>
                    </div>
                    <p class="check-description">Password complexity requirements are enforced</p>
                </div>
                
                <div class="security-check">
                    <div class="check-header">
                        <h4>SSL/TLS Configuration</h4>
                        <span class="check-status passed">Passed</span>
                    </div>
                    <p class="check-description">Secure connections are properly configured</p>
                </div>
                
                <div class="security-check">
                    <div class="check-header">
                        <h4>Database Encryption</h4>
                        <span class="check-status warning">Warning</span>
                    </div>
                    <p class="check-description">Some tables are not encrypted</p>
                    <button class="btn btn-sm btn-outline check-action">Fix Issue</button>
                </div>
            </div>
        </div>
        
        <div class="api-management">
            <h3>API Keys Management</h3>
            <div class="api-keys">
                <div class="api-key-item">
                    <div class="api-key-header">
                        <div class="api-key-name">Mobile App API</div>
                        <span class="api-key-status active">Active</span>
                    </div>
                    <div class="api-key-value">sk_live_51Hx...8Kj9</div>
                    <div class="api-key-actions">
                        <button class="btn btn-sm btn-outline" onclick="regenerateApiKey(this)">Regenerate</button>
                        <button class="btn btn-sm btn-outline" onclick="toggleApiKey(this)">Disable</button>
                        <button class="btn btn-sm btn-danger" onclick="deleteApiKey(this)">Delete</button>
                    </div>
                </div>
                
                <div class="api-key-item">
                    <div class="api-key-header">
                        <div class="api-key-name">Integration API</div>
                        <span class="api-key-status active">Active</span>
                    </div>
                    <div class="api-key-value">sk_live_72Ab...3Lm4</div>
                    <div class="api-key-actions">
                        <button class="btn btn-sm btn-outline" onclick="regenerateApiKey(this)">Regenerate</button>
                        <button class="btn btn-sm btn-outline" onclick="toggleApiKey(this)">Disable</button>
                        <button class="btn btn-sm btn-danger" onclick="deleteApiKey(this)">Delete</button>
                    </div>
                </div>
            </div>
            <button class="btn btn-primary" onclick="generateNewApiKey()">
                <i class="fas fa-plus"></i> Generate New API Key
            </button>
        </div>
    </div>
</section>

<!-- System Monitor Section -->
<section class="dashboard-section" id="systemMonitor">
    <div class="section-header">
        <h1>System Monitor</h1>
        <div class="section-actions">
            <button class="btn btn-primary" onclick="refreshMonitorData()">
                <i class="fas fa-sync-alt"></i> Refresh
            </button>
            <button class="btn btn-outline" onclick="exportMonitorData()">
                <i class="fas fa-download"></i> Export Data
            </button>
        </div>
    </div>
    
    <div class="quick-stats-widget">
        <div class="stat-widget">
            <div class="stat-widget-icon users">
                <i class="fas fa-users"></i>
            </div>
            <div class="stat-widget-value" id="activeUsers">--</div>
            <div class="stat-widget-label">Active Users</div>
        </div>
        <div class="stat-widget">
            <div class="stat-widget-icon appointments">
                <i class="fas fa-calendar-check"></i>
            </div>
            <div class="stat-widget-value" id="activeSessions">--</div>
            <div class="stat-widget-label">Active Sessions</div>
        </div>
        <div class="stat-widget">
            <div class="stat-widget-icon prescriptions">
                <i class="fas fa-database"></i>
            </div>
            <div class="stat-widget-value" id="dbQueries">--</div>
            <div class="stat-widget-label">DB Queries/min</div>
        </div>
        <div class="stat-widget">
            <div class="stat-widget-icon revenue">
                <i class="fas fa-server"></i>
            </div>
            <div class="stat-widget-value" id="serverLoad">--</div>
            <div class="stat-widget-label">Server Load</div>
        </div>
    </div>
    
    <div class="monitor-grid">
        <div class="monitor-card">
            <h3>CPU Usage</h3>
            <div class="metric-container">
                <div class="metric-label">
                    <span>Current Usage</span>
                    <span id="cpuPercent">--%</span>
                </div>
                <div class="metric-bar-container">
                    <div class="metric-bar cpu" id="cpuBar"></div>
                </div>
            </div>
            <div class="server-info">
                <div class="info-row">
                    <span>Processes:</span>
                    <span id="cpuProcesses">--</span>
                </div>
                <div class="info-row">
                    <span>Load Average:</span>
                    <span id="cpuLoadAvg">--</span>
                </div>
            </div>
        </div>
        
        <div class="monitor-card">
            <h3>Memory Usage</h3>
            <div class="metric-container">
                <div class="metric-label">
                    <span>RAM Usage</span>
                    <span id="ramPercent">--%</span>
                </div>
                <div class="metric-bar-container">
                    <div class="metric-bar memory" id="ramBar"></div>
                </div>
            </div>
            <div class="server-info">
                <div class="info-row">
                    <span>Total:</span>
                    <span id="ramTotal">-- GB</span>
                </div>
                <div class="info-row">
                    <span>Used:</span>
                    <span id="ramUsed">-- GB</span>
                </div>
                <div class="info-row">
                    <span>Free:</span>
                    <span id="ramFree">-- GB</span>
                </div>
            </div>
        </div>
        
        <div class="monitor-card">
            <h3>Disk Usage</h3>
            <div class="metric-container">
                <div class="metric-label">
                    <span>Storage</span>
                    <span id="diskPercent">--%</span>
                </div>
                <div class="metric-bar-container">
                    <div class="metric-bar disk" id="diskBar"></div>
                </div>
            </div>
            <div class="server-info">
                <div class="info-row">
                    <span>Total:</span>
                    <span id="diskTotal">-- GB</span>
                </div>
                <div class="info-row">
                    <span>Used:</span>
                    <span id="diskUsed">-- GB</span>
                </div>
                <div class="info-row">
                    <span>Available:</span>
                    <span id="diskAvailable">-- GB</span>
                </div>
            </div>
        </div>
        
        <div class="monitor-card">
            <h3>Network Traffic</h3>
            <div class="metric-container">
                <div class="metric-label">
                    <span>Current Speed</span>
                    <span id="networkSpeed">-- Mbps</span>
                </div>
                <div class="metric-bar-container">
                    <div class="metric-bar network" id="networkBar"></div>
                </div>
            </div>
            <div class="server-info">
                <div class="info-row">
                    <span>Incoming:</span>
                    <span id="networkIn">-- MB</span>
                </div>
                <div class="info-row">
                    <span>Outgoing:</span>
                    <span id="networkOut">-- MB</span>
                </div>
            </div>
        </div>
    </div>
    
    <div class="server-status-list">
        <h3>Server Status</h3>
        <div class="server-status online">
            <div class="server-name">Web Server (Apache)</div>
            <div class="server-uptime">Uptime: 15d 4h</div>
            <div class="status-indicator"></div>
        </div>
        <div class="server-status online">
            <div class="server-name">Database (MySQL)</div>
            <div class="server-uptime">Uptime: 15d 4h</div>
            <div class="status-indicator"></div>
        </div>
        <div class="server-status warning">
            <div class="server-name">Backup Server</div>
            <div class="server-uptime">Last backup: 2d ago</div>
            <div class="status-indicator"></div>
        </div>
        <div class="server-status online">
            <div class="server-name">Application Server</div>
            <div class="server-uptime">Uptime: 15d 4h</div>
            <div class="status-indicator"></div>
        </div>
    </div>
    
    <div class="system-alerts">
        <h3>Recent System Alerts</h3>
        <div class="alert-list" id="systemAlerts">
            <!-- Alerts loaded via JS -->
        </div>
    </div>
    
    <div class="performance-charts">
        <div class="chart-card">
            <h3>Response Time (Last 24h)</h3>
            <canvas id="responseTimeChart"></canvas>
        </div>
        <div class="chart-card">
            <h3>Error Rate (Last 7d)</h3>
            <canvas id="errorRateChart"></canvas>
        </div>
    </div>
    
    <div class="system-logs">
        <h3>Live System Logs</h3>
        <div class="log-filters">
            <input type="text" class="form-control" placeholder="Filter logs..." id="logFilter">
            <select class="form-control-sm" id="logLevelFilter">
                <option value="all">All Levels</option>
                <option value="info">Info</option>
                <option value="warning">Warning</option>
                <option value="error">Error</option>
                <option value="critical">Critical</option>
            </select>
            <button class="btn btn-sm btn-outline" onclick="clearLogs()">
                <i class="fas fa-trash"></i> Clear
            </button>
        </div>
        
        <div class="log-level-filter">
            <span class="log-level active" data-level="all">All</span>
            <span class="log-level" data-level="info">Info</span>
            <span class="log-level" data-level="warning">Warning</span>
            <span class="log-level" data-level="error">Error</span>
            <span class="log-level" data-level="critical">Critical</span>
        </div>
        
        <div class="log-viewer" id="systemLogs">
            <!-- Logs loaded via JS -->
        </div>
    </div>
</section>
            <!-- Financial Reports Section -->
            <section class="dashboard-section" id="financialReports">
                <div class="section-header">
                    <h1>Financial Reports</h1>
                    <div class="section-actions">
                        <div class="date-range">
                            <input type="text" id="reportStartDate" class="date-input" placeholder="Start Date">
                            <span>to</span>
                            <input type="text" id="reportEndDate" class="date-input" placeholder="End Date">
                        </div>
                        <button class="btn btn-primary" onclick="generateFinancialReport()">
                            <i class="fas fa-chart-bar"></i> Generate Report
                        </button>
                        <div class="export-dropdown">
                            <button class="btn btn-outline">
                                <i class="fas fa-download"></i> Export
                            </button>
                            <div class="dropdown-menu">
                                <a href="#" onclick="exportFinancialReport('pdf')"><i class="fas fa-file-pdf"></i> PDF</a>
                                <a href="#" onclick="exportFinancialReport('excel')"><i class="fas fa-file-excel"></i> Excel</a>
                                <a href="#" onclick="exportFinancialReport('csv')"><i class="fas fa-file-csv"></i> CSV</a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="financial-summary">
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="summary-info">
                            <div class="summary-label">Total Revenue</div>
                            <div class="summary-value" id="totalRevenue">$245,800</div>
                            <div class="summary-change positive">+12.5%</div>
                        </div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-receipt"></i>
                        </div>
                        <div class="summary-info">
                            <div class="summary-label">Total Expenses</div>
                            <div class="summary-value" id="totalExpenses">$198,500</div>
                            <div class="summary-change negative">-8.2%</div>
                        </div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="summary-info">
                            <div class="summary-label">Net Profit</div>
                            <div class="summary-value" id="netProfit">$47,300</div>
                            <div class="summary-change positive">+15.3%</div>
                        </div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-hospital"></i>
                        </div>
                        <div class="summary-info">
                            <div class="summary-label">Avg. Revenue per Patient</div>
                            <div class="summary-value" id="avgRevenue">$150</div>
                            <div class="summary-change positive">+5.2%</div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3>Department-wise Financials</h3>
                        <select id="departmentFilter" class="form-control-sm">
                            <option value="">All Departments</option>
                            <option value="cardiology">Cardiology</option>
                            <option value="neurology">Neurology</option>
                            <option value="pediatrics">Pediatrics</option>
                            <option value="emergency">Emergency</option>
                            <option value="pharmacy">Pharmacy</option>
                        </select>
                    </div>
                    <div class="card-body">
                        <div class="chart-container">
                            <canvas id="revenueChart"></canvas>
                        </div>
                        
                        <div class="table-responsive">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Department</th>
                                        <th>Revenue</th>
                                        <th>Expenses</th>
                                        <th>Profit</th>
                                        <th>% Margin</th>
                                        <th>Trend</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="financialTable">
                                    <!-- Financial data loaded via JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3>Top Revenue Services</h3>
                        </div>
                        <div class="card-body">
                            <div class="service-list" id="topServices">
                                <!-- Services loaded via JS -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3>Payment Methods</h3>
                        </div>
                        <div class="card-body">
                            <div class="payment-methods" id="paymentMethods">
                                <!-- Payment methods loaded via JS -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Audit Logs Section -->
            <section class="dashboard-section" id="auditLogs">
                <div class="section-header">
                    <h1>Audit Logs</h1>
                    <div class="section-actions">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="logSearch" placeholder="Search logs...">
                        </div>
                        <button class="btn btn-outline" onclick="exportAuditLogs()">
                            <i class="fas fa-download"></i> Export Logs
                        </button>
                        <button class="btn btn-danger" onclick="clearAuditLogs()">
                            <i class="fas fa-trash"></i> Clear Logs
                        </button>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3>System Audit Trail</h3>
                        <div class="filter-options">
                            <select id="logTypeFilter" class="form-control-sm">
                                <option value="">All Types</option>
                                <option value="login">Login</option>
                                <option value="logout">Logout</option>
                                <option value="create">Create</option>
                                <option value="update">Update</option>
                                <option value="delete">Delete</option>
                                <option value="security">Security</option>
                                <option value="error">Error</option>
                            </select>
                            <select id="logUserFilter" class="form-control-sm">
                                <option value="">All Users</option>
                                <!-- Users loaded via JS -->
                            </select>
                            <input type="text" id="logDateFilter" class="date-input-sm" placeholder="Filter by date">
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="logs-container">
                            <div class="log-filters">
                                <div class="filter-group">
                                    <h4>Quick Filters</h4>
                                    <div class="filter-tags">
                                        <span class="filter-tag active" data-filter="all">All</span>
                                        <span class="filter-tag" data-filter="security">Security Events</span>
                                        <span class="filter-tag" data-filter="user">User Actions</span>
                                        <span class="filter-tag" data-filter="system">System Events</span>
                                        <span class="filter-tag" data-filter="error">Errors</span>
                                    </div>
                                </div>
                                <div class="filter-group">
                                    <h4>Time Range</h4>
                                    <div class="time-filters">
                                        <button class="btn-time" data-hours="1">Last Hour</button>
                                        <button class="btn-time" data-hours="24">Last 24 Hours</button>
                                        <button class="btn-time" data-hours="168">Last 7 Days</button>
                                        <button class="btn-time" data-hours="720">Last 30 Days</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="logs-list" id="auditLogsList">
                                <!-- Logs loaded via JS -->
                            </div>
                            
                            <div class="logs-summary">
                                <div class="summary-item">
                                    <span>Total Logs:</span>
                                    <strong id="totalLogsCount">1,245</strong>
                                </div>
                                <div class="summary-item">
                                    <span>Security Events:</span>
                                    <strong id="securityLogsCount">42</strong>
                                </div>
                                <div class="summary-item">
                                    <span>Error Logs:</span>
                                    <strong id="errorLogsCount">18</strong>
                                </div>
                                <div class="summary-item">
                                    <span>Last 24 Hours:</span>
                                    <strong id="recentLogsCount">156</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3>Real-time Log Monitor</h3>
                        <div class="switch">
                            <input type="checkbox" id="realTimeToggle" checked>
                            <label for="realTimeToggle">Live Updates</label>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="log-monitor" id="realTimeLogs">
                            <!-- Real-time logs will appear here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Department Management Section -->
            <section class="dashboard-section" id="departmentManagement">
                <div class="section-header">
                    <h1>Department Management</h1>
                    <div class="section-actions">
                        <button class="btn btn-primary" onclick="openAddDepartmentModal()">
                            <i class="fas fa-plus"></i> Add Department
                        </button>
                        <button class="btn btn-outline" onclick="exportDepartmentData()">
                            <i class="fas fa-download"></i> Export
                        </button>
                    </div>
                </div>
                
                <div class="departments-grid" id="departmentsGrid">
                    <!-- Departments loaded via JS -->
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3>Department Statistics</h3>
                    </div>
                    <div class="card-body">
                        <div class="stats-grid">
                            <div class="stat-box">
                                <div class="stat-icon">
                                    <i class="fas fa-user-md"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-value" id="totalDoctors">48</div>
                                    <div class="stat-label">Total Doctors</div>
                                </div>
                            </div>
                            
                            <div class="stat-box">
                                <div class="stat-icon">
                                    <i class="fas fa-procedures"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-value" id="totalBeds">124</div>
                                    <div class="stat-label">Total Beds</div>
                                </div>
                            </div>
                            
                            <div class="stat-box">
                                <div class="stat-icon">
                                    <i class="fas fa-calendar-check"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-value" id="monthlyAppointments">1,245</div>
                                    <div class="stat-label">Monthly Appointments</div>
                                </div>
                            </div>
                            
                            <div class="stat-box">
                                <div class="stat-icon">
                                    <i class="fas fa-dollar-sign"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-value" id="departmentRevenue">$245,800</div>
                                    <div class="stat-label">Monthly Revenue</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3>Department Staff Allocation</h3>
                        <select id="deptStaffFilter" class="form-control-sm">
                            <option value="">All Departments</option>
                            <!-- Departments loaded via JS -->
                        </select>
                    </div>
                    <div class="card-body">
                        <div class="staff-allocation">
                            <div class="staff-list" id="departmentStaff">
                                <!-- Staff list loaded via JS -->
                            </div>
                            <div class="staff-chart">
                                <canvas id="staffChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Inventory Control Section -->
            <section class="dashboard-section" id="inventoryControl">
                <div class="section-header">
                    <h1>Inventory Control</h1>
                    <div class="section-actions">
                        <button class="btn btn-primary" onclick="openAddItemModal()">
                            <i class="fas fa-plus"></i> Add Item
                        </button>
                        <button class="btn btn-outline" onclick="generateInventoryReport()">
                            <i class="fas fa-print"></i> Print Report
                        </button>
                        <button class="btn btn-danger" onclick="checkExpiringItems()">
                            <i class="fas fa-exclamation-triangle"></i> Check Expiring
                        </button>
                    </div>
                </div>
                
                <div class="inventory-summary">
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-pills"></i>
                        </div>
                        <div class="summary-info">
                            <div class="summary-label">Total Items</div>
                            <div class="summary-value" id="totalItems">1,245</div>
                            <div class="summary-change positive">+5%</div>
                        </div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-box"></i>
                        </div>
                        <div class="summary-info">
                            <div class="summary-label">Low Stock Items</div>
                            <div class="summary-value" id="lowStockItems">42</div>
                            <div class="summary-change negative">+12%</div>
                        </div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="summary-info">
                            <div class="summary-label">Expiring Soon</div>
                            <div class="summary-value" id="expiringItems">18</div>
                            <div class="summary-change neutral">-3%</div>
                        </div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="summary-info">
                            <div class="summary-label">Inventory Value</div>
                            <div class="summary-value" id="inventoryValue">$125,400</div>
                            <div class="summary-change positive">+8%</div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3>Inventory Items</h3>
                        <div class="filter-options">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" id="inventorySearch" placeholder="Search items...">
                            </div>
                            <select id="inventoryCategory" class="form-control-sm">
                                <option value="">All Categories</option>
                                <option value="medication">Medication</option>
                                <option value="equipment">Equipment</option>
                                <option value="supplies">Supplies</option>
                                <option value="vaccine">Vaccines</option>
                            </select>
                            <select id="inventoryStatus" class="form-control-sm">
                                <option value="">All Status</option>
                                <option value="in-stock">In Stock</option>
                                <option value="low-stock">Low Stock</option>
                                <option value="out-of-stock">Out of Stock</option>
                                <option value="expired">Expired</option>
                            </select>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="data-table" id="inventoryTable">
                                <thead>
                                    <tr>
                                        <th>Item ID</th>
                                        <th>Item Name</th>
                                        <th>Category</th>
                                        <th>Current Stock</th>
                                        <th>Minimum Stock</th>
                                        <th>Unit Price</th>
                                        <th>Total Value</th>
                                        <th>Expiry Date</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="inventoryTableBody">
                                    <!-- Inventory items loaded via JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3>Low Stock Alerts</h3>
                        </div>
                        <div class="card-body">
                            <div class="alerts-list" id="lowStockAlerts">
                                <!-- Alerts loaded via JS -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3>Recent Inventory Transactions</h3>
                            <a href="#inventoryLogs" class="btn-link">View All</a>
                        </div>
                        <div class="card-body">
                            <div class="transactions-list" id="inventoryTransactions">
                                <!-- Transactions loaded via JS -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3>Inventory Analytics</h3>
                    </div>
                    <div class="card-body">
                        <div class="analytics-grid">
                            <div class="chart-container">
                                <canvas id="inventoryCategoryChart"></canvas>
                            </div>
                            <div class="chart-container">
                                <canvas id="inventoryMovementChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Backup & Restore Section -->
            <section class="dashboard-section" id="backupRestore">
                <div class="section-header">
                    <h1>Backup & Restore</h1>
                    <div class="section-actions">
                        <button class="btn btn-primary" onclick="createBackup()">
                            <i class="fas fa-database"></i> Create Backup
                        </button>
                        <button class="btn btn-outline" onclick="scheduleBackup()">
                            <i class="fas fa-calendar-alt"></i> Schedule Backup
                        </button>
                        <button class="btn btn-danger" onclick="testRestore()">
                            <i class="fas fa-redo"></i> Test Restore
                        </button>
                    </div>
                </div>
                
                <div class="backup-status">
                    <div class="status-card">
                        <div class="status-header">
                            <h4>Last Backup Status</h4>
                            <span class="status-badge success">Success</span>
                        </div>
                        <div class="status-details">
                            <div class="detail">
                                <span>Date & Time:</span>
                                <strong id="lastBackupTime">Nov 15, 2023 02:00 AM</strong>
                            </div>
                            <div class="detail">
                                <span>Size:</span>
                                <strong id="lastBackupSize">4.2 GB</strong>
                            </div>
                            <div class="detail">
                                <span>Type:</span>
                                <strong id="lastBackupType">Full Backup</strong>
                            </div>
                            <div class="detail">
                                <span>Next Backup:</span>
                                <strong id="nextBackupTime">Nov 16, 2023 02:00 AM</strong>
                            </div>
                        </div>
                    </div>
                    
                    <div class="status-card">
                        <div class="status-header">
                            <h4>Storage Usage</h4>
                            <span class="status-badge warning">75% Used</span>
                        </div>
                        <div class="storage-meter">
                            <div class="meter-bar">
                                <div class="meter-fill" style="width: 75%;"></div>
                            </div>
                            <div class="storage-details">
                                <div class="detail">
                                    <span>Used:</span>
                                    <strong>37.5 GB / 50 GB</strong>
                                </div>
                                <div class="detail">
                                    <span>Available:</span>
                                    <strong>12.5 GB</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3>Backup History</h3>
                        <div class="filter-options">
                            <select id="backupTypeFilter" class="form-control-sm">
                                <option value="">All Types</option>
                                <option value="full">Full Backup</option>
                                <option value="incremental">Incremental</option>
                                <option value="differential">Differential</option>
                            </select>
                            <input type="text" id="backupDateFilter" class="date-input-sm" placeholder="Filter by date">
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Backup ID</th>
                                        <th>Date & Time</th>
                                        <th>Type</th>
                                        <th>Size</th>
                                        <th>Status</th>
                                        <th>Location</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="backupHistory">
                                    <!-- Backup history loaded via JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3>Backup Settings</h3>
                        </div>
                        <div class="card-body">
                            <div class="settings-form">
                                <div class="form-group">
                                    <label>Backup Frequency</label>
                                    <select class="form-control" id="backupFrequency">
                                        <option value="daily">Daily</option>
                                        <option value="weekly" selected>Weekly</option>
                                        <option value="monthly">Monthly</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Backup Time</label>
                                    <input type="time" class="form-control" id="backupTime" value="02:00">
                                </div>
                                <div class="form-group">
                                    <label>Retention Period</label>
                                    <select class="form-control" id="retentionPeriod">
                                        <option value="7">7 days</option>
                                        <option value="30" selected>30 days</option>
                                        <option value="90">90 days</option>
                                        <option value="365">1 year</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox">
                                        <input type="checkbox" id="compressBackup" checked>
                                        <span>Compress Backups</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox">
                                        <input type="checkbox" id="encryptBackup" checked>
                                        <span>Encrypt Backups</span>
                                    </label>
                                </div>
                                <button class="btn btn-primary" onclick="saveBackupSettings()">
                                    <i class="fas fa-save"></i> Save Settings
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3>Restore Options</h3>
                        </div>
                        <div class="card-body">
                            <div class="restore-options">
                                <div class="form-group">
                                    <label>Select Backup to Restore</label>
                                    <select class="form-control" id="restoreBackup">
                                        <option value="">Select a backup...</option>
                                        <!-- Backups loaded via JS -->
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Restore Type</label>
                                    <select class="form-control" id="restoreType">
                                        <option value="full">Full Restore</option>
                                        <option value="partial">Partial Restore</option>
                                        <option value="test">Test Restore</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Enter Restore Password</label>
                                    <input type="password" class="form-control" id="restorePassword" placeholder="Enter backup password">
                                </div>
                                <div class="warning-box">
                                    <i class="fas fa-exclamation-triangle"></i>
                                    <p><strong>Warning:</strong> Restoring will overwrite existing data. Make sure you have a current backup.</p>
                                </div>
                                <button class="btn btn-danger" onclick="initiateRestore()">
                                    <i class="fas fa-redo"></i> Initiate Restore
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modals -->
    <!-- Add User Modal -->
    <div class="modal" id="addUserModal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2>Add New User</h2>
                <button class="close-modal" onclick="closeModal('addUserModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addUserForm">
                    <div class="form-group">
                        <label>User Type *</label>
                        <select class="form-control" id="userType" required onchange="toggleUserFields()">
                            <option value="">Select User Type</option>
                            <option value="patient">Patient</option>
                            <option value="doctor">Doctor</option>
                            <option value="nurse">Nurse</option>
                            <option value="pharmacist">Pharmacist</option>
                            <option value="admin">Administrator</option>
                        </select>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>First Name *</label>
                            <input type="text" class="form-control" id="firstName" required>
                        </div>
                        <div class="form-group">
                            <label>Last Name *</label>
                            <input type="text" class="form-control" id="lastName" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Email Address *</label>
                        <input type="email" class="form-control" id="userEmail" required>
                    </div>
                    
                    <div class="form-group" id="licenseField" style="display: none;">
                        <label>License Number</label>
                        <input type="text" class="form-control" id="licenseNumber">
                    </div>
                    
                    <div class="form-group" id="departmentField" style="display: none;">
                        <label>Department</label>
                        <select class="form-control" id="userDepartment">
                            <option value="">Select Department</option>
                            <option value="cardiology">Cardiology</option>
                            <option value="neurology">Neurology</option>
                            <option value="pediatrics">Pediatrics</option>
                            <option value="emergency">Emergency</option>
                            <option value="pharmacy">Pharmacy</option>
                        </select>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Password *</label>
                            <div class="password-input">
                                <input type="password" class="form-control" id="userPassword" required>
                                <button type="button" class="toggle-password">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Confirm Password *</label>
                            <div class="password-input">
                                <input type="password" class="form-control" id="confirmPassword" required>
                                <button type="button" class="toggle-password">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Access Permissions</label>
                        <div class="permissions-grid">
                            <label class="checkbox">
                                <input type="checkbox" name="permissions" value="medical_records">
                                <span>Medical Records</span>
                            </label>
                            <label class="checkbox">
                                <input type="checkbox" name="permissions" value="appointments">
                                <span>Appointments</span>
                            </label>
                            <label class="checkbox">
                                <input type="checkbox" name="permissions" value="prescriptions">
                                <span>Prescriptions</span>
                            </label>
                            <label class="checkbox">
                                <input type="checkbox" name="permissions" value="billing">
                                <span>Billing</span>
                            </label>
                            <label class="checkbox">
                                <input type="checkbox" name="permissions" value="inventory">
                                <span>Inventory</span>
                            </label>
                            <label class="checkbox">
                                <input type="checkbox" name="permissions" value="reports">
                                <span>Reports</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline" onclick="closeModal('addUserModal')">Cancel</button>
                        <button type="submit" class="btn btn-primary">Create User</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Department Modal -->
    <div class="modal" id="addDepartmentModal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2>Add New Department</h2>
                <button class="close-modal" onclick="closeModal('addDepartmentModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addDepartmentForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Department Name *</label>
                            <input type="text" class="form-control" id="deptName" required>
                        </div>
                        <div class="form-group">
                            <label>Department Code *</label>
                            <input type="text" class="form-control" id="deptCode" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Description</label>
                        <textarea class="form-control" id="deptDescription" rows="3"></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Head of Department</label>
                            <select class="form-control" id="deptHead">
                                <option value="">Select Doctor</option>
                                <!-- Doctors loaded via JS -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Location</label>
                            <input type="text" class="form-control" id="deptLocation">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Contact Number</label>
                            <input type="tel" class="form-control" id="deptPhone">
                        </div>
                        <div class="form-group">
                            <label>Contact Email</label>
                            <input type="email" class="form-control" id="deptEmail">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Number of Beds</label>
                            <input type="number" class="form-control" id="deptBeds" min="0">
                        </div>
                        <div class="form-group">
                            <label>Monthly Budget ($)</label>
                            <input type="number" class="form-control" id="deptBudget" min="0">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Services Offered</label>
                        <div class="services-grid">
                            <label class="checkbox">
                                <input type="checkbox" name="services" value="consultation">
                                <span>Consultation</span>
                            </label>
                            <label class="checkbox">
                                <input type="checkbox" name="services" value="emergency">
                                <span>Emergency Care</span>
                            </label>
                            <label class="checkbox">
                                <input type="checkbox" name="services" value="surgery">
                                <span>Surgery</span>
                            </label>
                            <label class="checkbox">
                                <input type="checkbox" name="services" value="diagnostics">
                                <span>Diagnostics</span>
                            </label>
                            <label class="checkbox">
                                <input type="checkbox" name="services" value="therapy">
                                <span>Therapy</span>
                            </label>
                            <label class="checkbox">
                                <input type="checkbox" name="services" value="rehabilitation">
                                <span>Rehabilitation</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline" onclick="closeModal('addDepartmentModal')">Cancel</button>
                        <button type="submit" class="btn btn-primary">Create Department</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Inventory Item Modal -->
    <div class="modal" id="addInventoryModal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2>Add Inventory Item</h2>
                <button class="close-modal" onclick="closeModal('addInventoryModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addInventoryForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Item Name *</label>
                            <input type="text" class="form-control" id="itemName" required>
                        </div>
                        <div class="form-group">
                            <label>Item Code *</label>
                            <input type="text" class="form-control" id="itemCode" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Category *</label>
                            <select class="form-control" id="itemCategory" required>
                                <option value="">Select Category</option>
                                <option value="medication">Medication</option>
                                <option value="equipment">Equipment</option>
                                <option value="supplies">Supplies</option>
                                <option value="vaccine">Vaccine</option>
                                <option value="consumables">Consumables</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Unit *</label>
                            <select class="form-control" id="itemUnit" required>
                                <option value="">Select Unit</option>
                                <option value="pcs">Pieces</option>
                                <option value="box">Box</option>
                                <option value="bottle">Bottle</option>
                                <option value="pack">Pack</option>
                                <option value="kit">Kit</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Current Stock *</label>
                            <input type="number" class="form-control" id="currentStock" required min="0">
                        </div>
                        <div class="form-group">
                            <label>Minimum Stock *</label>
                            <input type="number" class="form-control" id="minimumStock" required min="0">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Unit Price ($) *</label>
                            <input type="number" class="form-control" id="unitPrice" required min="0" step="0.01">
                        </div>
                        <div class="form-group">
                            <label>Supplier</label>
                            <input type="text" class="form-control" id="itemSupplier">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Expiry Date</label>
                            <input type="date" class="form-control" id="expiryDate">
                        </div>
                        <div class="form-group">
                            <label>Reorder Quantity</label>
                            <input type="number" class="form-control" id="reorderQuantity" min="0">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Storage Location</label>
                        <input type="text" class="form-control" id="storageLocation">
                    </div>
                    
                    <div class="form-group">
                        <label>Notes</label>
                        <textarea class="form-control" id="itemNotes" rows="2"></textarea>
                    </div>
                    
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline" onclick="closeModal('addInventoryModal')">Cancel</button>
                        <button type="submit" class="btn btn-primary">Add Item</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/admin-modules.js"></script>
    
    <script>
        // Initialize the admin dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize all modules
            initializeAdminDashboard();
            initializeUserManagement();
            initializeSystemSettings();
            initializeFinancialReports();
            initializeAuditLogs();
            initializeDepartmentManagement();
            initializeInventoryControl();
            initializeBackupRestore();
            
            // Initialize date pickers
            flatpickr("#reportStartDate", { dateFormat: "Y-m-d" });
            flatpickr("#reportEndDate", { dateFormat: "Y-m-d" });
            flatpickr("#logDateFilter", { dateFormat: "Y-m-d" });
            flatpickr("#backupDateFilter", { dateFormat: "Y-m-d" });
            
            // Load initial data
            loadDashboardData();
            loadUsers();
            loadFinancialData();
            loadAuditLogs();
            loadDepartments();
            loadInventory();
            loadBackupHistory();
            
            // Set up event listeners
            setupEventListeners();
            
            // Start real-time updates
            startRealTimeUpdates();
        });
        
        function setupEventListeners() {
            // Sidebar navigation
            document.querySelectorAll('.sidebar-menu a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    navigateToSection(this.getAttribute('href').substring(1));
                });
            });
            
            // Settings tabs
            document.querySelectorAll('.tab-btn').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    switchSettingsTab(tabId);
                });
            });
            
            // Form submissions
            document.getElementById('addUserForm').addEventListener('submit', addNewUser);
            document.getElementById('addDepartmentForm').addEventListener('submit', addNewDepartment);
            document.getElementById('addInventoryForm').addEventListener('submit', addNewInventoryItem);
            
            // Search functionality
            document.getElementById('userSearch').addEventListener('input', filterUsers);
            document.getElementById('inventorySearch').addEventListener('input', filterInventory);
            document.getElementById('logSearch').addEventListener('input', filterLogs);
            
            // Filter changes
            document.getElementById('userRoleFilter').addEventListener('change', filterUsers);
            document.getElementById('userStatusFilter').addEventListener('change', filterUsers);
            document.getElementById('logTypeFilter').addEventListener('change', filterLogs);
            document.getElementById('logUserFilter').addEventListener('change', filterLogs);
            document.getElementById('inventoryCategory').addEventListener('change', filterInventory);
            document.getElementById('inventoryStatus').addEventListener('change', filterInventory);
            
            // Select all users checkbox
            document.getElementById('selectAllUsers').addEventListener('change', function() {
                const checkboxes = document.querySelectorAll('#usersTableBody input[type="checkbox"]');
                checkboxes.forEach(checkbox => {
                    checkbox.checked = this.checked;
                });
            });
            
            // Real-time log toggle
            document.getElementById('realTimeToggle').addEventListener('change', function() {
                if (this.checked) {
                    startRealTimeLogs();
                } else {
                    stopRealTimeLogs();
                }
            });
        }
        
        function navigateToSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.dashboard-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all sidebar links
            document.querySelectorAll('.sidebar-menu a').forEach(link => {
                link.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Add active class to clicked link
            document.querySelector(`.sidebar-menu a[href="#${sectionId}"]`).classList.add('active');
            
            // Update breadcrumb
            updateBreadcrumb(sectionId);
            
            // Load section-specific data
            switch(sectionId) {
                case 'userManagement':
                    loadUsers();
                    break;
                case 'financialReports':
                    loadFinancialData();
                    break;
                case 'auditLogs':
                    loadAuditLogs();
                    break;
                case 'departmentManagement':
                    loadDepartments();
                    break;
                case 'inventoryControl':
                    loadInventory();
                    break;
                case 'backupRestore':
                    loadBackupHistory();
                    break;
            }
        }
        
        function updateBreadcrumb(sectionId) {
            const sectionNames = {
                'dashboard': 'Dashboard',
                'userManagement': 'User Management',
                'systemSettings': 'System Settings',
                'financialReports': 'Financial Reports',
                'auditLogs': 'Audit Logs',
                'departmentManagement': 'Department Management',
                'inventoryControl': 'Inventory Control',
                'backupRestore': 'Backup & Restore',
                'securitySettings': 'Security Settings',
                'systemMonitor': 'System Monitor'
            };
            
            const breadcrumb = document.querySelector('.breadcrumb');
            if (breadcrumb) {
                breadcrumb.innerHTML = `
                    <span>Admin</span> <i class="fas fa-chevron-right"></i> 
                    <span>${sectionNames[sectionId] || sectionId}</span>
                `;
            }
        }
        
        function switchSettingsTab(tabId) {
            // Remove active class from all tabs
            document.querySelectorAll('.tab-btn').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Add active class to selected tab
            document.querySelector(`.tab-btn[data-tab="${tabId}"]`).classList.add('active');
            
            // Show selected tab content
            document.getElementById(`${tabId}Tab`).classList.add('active');
        }
        
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }
        
        function openAddUserModal() {
            openModal('addUserModal');
        }
        
        function openAddDepartmentModal() {
            // Load doctors for department head selection
            loadDoctorsForDepartment();
            openModal('addDepartmentModal');
        }
        
        function openAddItemModal() {
            openModal('addInventoryModal');
        }
        
        // Global functions for quick actions
        function refreshSystemStats() {
            loadDashboardData();
            showNotification('System stats refreshed', 'success');
        }
        
        function generateFinancialReport() {
            const startDate = document.getElementById('reportStartDate').value;
            const endDate = document.getElementById('reportEndDate').value;
            
            if (!startDate || !endDate) {
                showNotification('Please select date range', 'error');
                return;
            }
            
            showNotification('Generating financial report...', 'info');
            // In real app, this would generate and download report
        }
        
        function performSystemBackup() {
            if (confirm('Create a new system backup? This may take several minutes.')) {
                showNotification('Starting system backup...', 'info');
                // In real app, this would initiate backup process
            }
        }
        
        function checkSystemSecurity() {
            showNotification('Running security scan...', 'info');
            // In real app, this would run security checks
        }
        
        function openInventoryCheck() {
            navigateToSection('inventoryControl');
            showNotification('Opening inventory control', 'info');
        }
        
        function viewSystemLogs() {
            navigateToSection('auditLogs');
        }
        
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                    <span>${message}</span>
                </div>
                <button class="notification-close" onclick="this.parentElement.remove()">&times;</button>
            `;
            
            // Add to dashboard header
            const dashboardHeader = document.querySelector('.dashboard-header');
            dashboardHeader.appendChild(notification);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 5000);
        }
        
        // Start real-time updates for logs
        function startRealTimeUpdates() {
            // Simulate real-time updates
            setInterval(() => {
                updateSystemHealth();
                updateNotificationCount();
            }, 10000);
            
            // Start real-time logs if enabled
            if (document.getElementById('realTimeToggle').checked) {
                startRealTimeLogs();
            }
        }
        
        function updateSystemHealth() {
            // Simulate random system health updates
            const metrics = ['cpuUsage', 'memoryUsage', 'storageUsage', 'databaseUsage'];
            metrics.forEach(metric => {
                const element = document.getElementById(metric);
                if (element) {
                    const currentWidth = parseInt(element.style.width);
                    const change = Math.random() * 10 - 5; // -5% to +5%
                    const newWidth = Math.min(Math.max(currentWidth + change, 0), 100);
                    element.style.width = `${newWidth}%`;
                    element.nextElementSibling.textContent = `${Math.round(newWidth)}%`;
                    
                    // Update color based on usage
                    if (newWidth > 80) {
                        element.style.backgroundColor = 'var(--danger)';
                    } else if (newWidth > 60) {
                        element.style.backgroundColor = 'var(--warning)';
                    } else {
                        element.style.backgroundColor = 'var(--success)';
                    }
                }
            });
        }
        
        function updateNotificationCount() {
            const countElement = document.getElementById('notificationCount');
            if (countElement) {
                const currentCount = parseInt(countElement.textContent);
                const newCount = Math.min(Math.max(currentCount + (Math.random() > 0.7 ? 1 : 0), 0), 9);
                countElement.textContent = newCount;
                countElement.style.display = newCount > 0 ? 'flex' : 'none';
            }
        }
    </script>
    
    <style>
        /* Additional styles for the admin dashboard */
        .admin-badge {
            background-color: var(--primary);
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 5px;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .section-header h1 {
            font-size: 28px;
            color: var(--dark);
            margin: 0;
        }
        
        .breadcrumb {
            color: var(--gray);
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .section-actions {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: rgba(26, 115, 232, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--primary);
        }
        
        .stat-info {
            flex: 1;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
            line-height: 1;
        }
        
        .stat-label {
            color: var(--gray);
            font-size: 14px;
            margin: 5px 0;
        }
        
        .stat-change {
            font-size: 12px;
            font-weight: 600;
        }
        
        .stat-change.positive {
            color: var(--secondary);
        }
        
        .stat-change.negative {
            color: var(--danger);
        }
        
        .stat-change.stable {
            color: var(--gray);
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        @media (min-width: 992px) {
            .dashboard-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        .card {
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }
        
        .card-header {
            padding: 20px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .card-header h3 {
            margin: 0;
            font-size: 18px;
            color: var(--dark);
        }
        
        .card-body {
            padding: 20px;
        }
        
        .health-metrics {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .metric {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .metric-label {
            width: 100px;
            color: var(--gray);
            font-size: 14px;
        }
        
        .metric-bar {
            flex: 1;
            height: 8px;
            background-color: var(--light-gray);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .metric-fill {
            height: 100%;
            background-color: var(--primary);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .metric-value {
            width: 40px;
            text-align: right;
            font-weight: 600;
            font-size: 14px;
        }
        
        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .activity-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .activity-item:last-child {
            border-bottom: none;
        }
        
        .activity-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: rgba(26, 115, 232, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
        }
        
        .activity-content {
            flex: 1;
        }
        
        .activity-text {
            font-size: 14px;
        }
        
        .activity-time {
            color: var(--gray);
            font-size: 12px;
        }
        
        .quick-actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .quick-action {
            background-color: var(--light);
            border: 1px solid var(--light-gray);
            border-radius: var(--radius);
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quick-action:hover {
            background-color: rgba(26, 115, 232, 0.1);
            border-color: var(--primary);
            transform: translateY(-2px);
        }
        
        .quick-action i {
            font-size: 24px;
            color: var(--primary);
            margin-bottom: 10px;
            display: block;
        }
        
        .quick-action span {
            font-weight: 500;
            font-size: 14px;
        }
        
        /* Table Styles */
        .table-responsive {
            overflow-x: auto;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .data-table th {
            background-color: var(--light);
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
            color: var(--dark);
            border-bottom: 1px solid var(--light-gray);
        }
        
        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .data-table tr:hover {
            background-color: rgba(26, 115, 232, 0.05);
        }
        
        .table-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .bulk-actions {
            display: flex;
            gap: 10px;
        }
        
        .pagination {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .page-info {
            font-size: 14px;
            color: var(--gray);
        }
        
        .btn-icon {
            background: none;
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--gray);
            transition: all 0.3s ease;
        }
        
        .btn-icon:hover {
            background-color: var(--light);
            color: var(--primary);
        }
        
        .btn-link {
            background: none;
            border: none;
            color: var(--primary);
            font-weight: 500;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: var(--radius);
            transition: all 0.3s ease;
        }
        
        .btn-link:hover {
            background-color: rgba(26, 115, 232, 0.1);
        }
        
        /* User status badges */
        .status-badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-active {
            background-color: rgba(52, 168, 83, 0.1);
            color: var(--secondary);
        }
        
        .status-inactive {
            background-color: rgba(158, 158, 158, 0.1);
            color: var(--gray);
        }
        
        .status-suspended {
            background-color: rgba(234, 67, 53, 0.1);
            color: var(--danger);
        }
        
        .status-pending {
            background-color: rgba(251, 188, 5, 0.1);
            color: var(--accent);
        }
        
        /* Role badges */
        .role-badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .role-doctor {
            background-color: rgba(26, 115, 232, 0.1);
            color: var(--primary);
        }
        
        .role-nurse {
            background-color: rgba(251, 188, 5, 0.1);
            color: var(--accent);
        }
        
        .role-pharmacist {
            background-color: rgba(52, 168, 83, 0.1);
            color: var(--secondary);
        }
        
        .role-patient {
            background-color: rgba(103, 58, 183, 0.1);
            color: #673ab7;
        }
        
        .role-admin {
            background-color: rgba(234, 67, 53, 0.1);
            color: var(--danger);
        }
        
        /* Settings tabs */
        .settings-tabs {
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }
        
        .tab-header {
            display: flex;
            border-bottom: 1px solid var(--light-gray);
            background-color: var(--light);
        }
        
        .tab-btn {
            padding: 15px 20px;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            font-weight: 500;
            color: var(--gray);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .tab-btn:hover {
            color: var(--primary);
            background-color: rgba(26, 115, 232, 0.05);
        }
        
        .tab-btn.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
            background-color: white;
        }
        
        .tab-content {
            padding: 30px;
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .settings-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }
        
        @media (min-width: 992px) {
            .settings-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .setting-group {
            background-color: var(--light);
            border-radius: var(--radius);
            padding: 20px;
        }
        
        .setting-group h4 {
            margin-bottom: 15px;
            color: var(--dark);
        }
        
        /* Financial Summary */
        .financial-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .summary-card {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .summary-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: rgba(26, 115, 232, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--primary);
        }
        
        .summary-info {
            flex: 1;
        }
        
        .summary-label {
            font-size: 14px;
            color: var(--gray);
        }
        
        .summary-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
            margin: 5px 0;
        }
        
        .summary-change {
            font-size: 12px;
            font-weight: 600;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            margin-bottom: 20px;
        }
        
        /* Audit Logs */
        .logs-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }
        
        @media (min-width: 1200px) {
            .logs-container {
                grid-template-columns: 250px 1fr;
            }
        }
        
        .log-filters {
            background-color: var(--light);
            border-radius: var(--radius);
            padding: 20px;
        }
        
        .filter-group {
            margin-bottom: 20px;
        }
        
        .filter-group h4 {
            margin-bottom: 10px;
            color: var(--dark);
            font-size: 14px;
        }
        
        .filter-tags {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .filter-tag {
            padding: 8px 12px;
            background-color: white;
            border-radius: var(--radius);
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .filter-tag:hover {
            background-color: rgba(26, 115, 232, 0.1);
        }
        
        .filter-tag.active {
            background-color: var(--primary);
            color: white;
        }
        
        .time-filters {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }
        
        .btn-time {
            padding: 8px;
            background-color: white;
            border: 1px solid var(--light-gray);
            border-radius: var(--radius);
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .btn-time:hover {
            background-color: rgba(26, 115, 232, 0.1);
            border-color: var(--primary);
        }
        
        .logs-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .log-item {
            background-color: white;
            border-radius: var(--radius);
            padding: 15px;
            border-left: 4px solid var(--primary);
        }
        
        .log-item.security {
            border-left-color: var(--danger);
        }
        
        .log-item.error {
            border-left-color: var(--accent);
        }
        
        .log-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .log-type {
            font-size: 12px;
            font-weight: 600;
            padding: 2px 8px;
            border-radius: 12px;
            background-color: var(--light);
        }
        
        .log-time {
            font-size: 12px;
            color: var(--gray);
        }
        
        .log-content {
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .log-user {
            font-size: 12px;
            color: var(--gray);
        }
        
        .logs-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
            padding: 20px;
            background-color: var(--light);
            border-radius: var(--radius);
        }
        
        .summary-item {
            text-align: center;
        }
        
        .summary-item span {
            display: block;
            font-size: 12px;
            color: var(--gray);
            margin-bottom: 5px;
        }
        
        .summary-item strong {
            font-size: 18px;
            color: var(--dark);
        }
        
        .log-monitor {
            height: 300px;
            background-color: #1e1e1e;
            border-radius: var(--radius);
            padding: 15px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            color: #00ff00;
        }
        
        .log-entry {
            margin-bottom: 5px;
            line-height: 1.4;
        }
        
        .log-entry.error {
            color: #ff6b6b;
        }
        
        .log-entry.warning {
            color: #ffd93d;
        }
        
        .log-entry.info {
            color: #6bc5ff;
        }
        
        /* Department Management */
        .departments-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .department-card {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            border-top: 4px solid var(--primary);
        }
        
        .department-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .department-code {
            background-color: var(--primary);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .department-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }
        
        .stat-box {
            text-align: center;
            padding: 10px;
            background-color: var(--light);
            border-radius: var(--radius);
        }
        
        .stat-box .stat-value {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary);
        }
        
        .stat-box .stat-label {
            font-size: 12px;
            color: var(--gray);
        }
        
        .department-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .staff-allocation {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }
        
        @media (min-width: 768px) {
            .staff-allocation {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        .staff-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .staff-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background-color: var(--light);
            border-radius: var(--radius);
        }
        
        .staff-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }
        
        .staff-info {
            flex: 1;
        }
        
        .staff-name {
            font-weight: 500;
            font-size: 14px;
        }
        
        .staff-role {
            font-size: 12px;
            color: var(--gray);
        }
        
        /* Inventory Control */
        .inventory-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .alerts-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .alert-item {
            padding: 12px;
            background-color: rgba(251, 188, 5, 0.1);
            border-left: 4px solid var(--accent);
            border-radius: var(--radius);
        }
        
        .alert-item.critical {
            background-color: rgba(234, 67, 53, 0.1);
            border-left-color: var(--danger);
        }
        
        .alert-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .alert-title {
            font-weight: 600;
            font-size: 14px;
        }
        
        .alert-time {
            font-size: 12px;
            color: var(--gray);
        }
        
        .alert-message {
            font-size: 13px;
            color: var(--gray);
        }
        
        .transactions-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .transaction-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .transaction-item:last-child {
            border-bottom: none;
        }
        
        .transaction-type {
            font-weight: 600;
            font-size: 14px;
        }
        
        .transaction-type.in {
            color: var(--secondary);
        }
        
        .transaction-type.out {
            color: var(--danger);
        }
        
        .transaction-details {
            font-size: 13px;
            color: var(--gray);
        }
        
        .analytics-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }
        
        @media (min-width: 768px) {
            .analytics-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        /* Backup & Restore */
        .backup-status {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        @media (min-width: 768px) {
            .backup-status {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .status-card {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
        }
        
        .status-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .status-header h4 {
            margin: 0;
            font-size: 16px;
            color: var(--dark);
        }
        
        .status-badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-badge.success {
            background-color: rgba(52, 168, 83, 0.1);
            color: var(--secondary);
        }
        
        .status-badge.warning {
            background-color: rgba(251, 188, 5, 0.1);
            color: var(--accent);
        }
        
        .status-badge.error {
            background-color: rgba(234, 67, 53, 0.1);
            color: var(--danger);
        }
        
        .status-details {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .detail {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }
        
        .detail span {
            color: var(--gray);
        }
        
        .detail strong {
            color: var(--dark);
        }
        
        .storage-meter {
            margin-top: 15px;
        }
        
        .meter-bar {
            height: 10px;
            background-color: var(--light-gray);
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .meter-fill {
            height: 100%;
            background-color: var(--primary);
            border-radius: 5px;
        }
        
        .settings-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .restore-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .warning-box {
            padding: 15px;
            background-color: rgba(251, 188, 5, 0.1);
            border-left: 4px solid var(--accent);
            border-radius: var(--radius);
            display: flex;
            gap: 10px;
        }
        
        .warning-box i {
            color: var(--accent);
            font-size: 20px;
        }
        
        .warning-box p {
            margin: 0;
            font-size: 14px;
            color: var(--dark);
        }
        
        /* Form Controls */
        .form-control-sm {
            padding: 8px 12px;
            font-size: 14px;
            border: 1px solid var(--light-gray);
            border-radius: var(--radius);
            background-color: white;
        }
        
        .date-input {
            padding: 10px 15px;
            border: 1px solid var(--light-gray);
            border-radius: var(--radius);
            background-color: white;
        }
        
        .date-input-sm {
            padding: 8px 12px;
            font-size: 14px;
            border: 1px solid var(--light-gray);
            border-radius: var(--radius);
            background-color: white;
            width: 120px;
        }
        
        .search-box {
            position: relative;
            display: flex;
            align-items: center;
        }
        
        .search-box i {
            position: absolute;
            left: 12px;
            color: var(--gray);
        }
        
        .search-box input {
            padding: 10px 15px 10px 40px;
            border: 1px solid var(--light-gray);
            border-radius: var(--radius);
            background-color: white;
            width: 200px;
        }
        
        .filter-options {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .date-range {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .export-dropdown {
            position: relative;
            display: inline-block;
        }
        
        .export-dropdown .dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: white;
            box-shadow: var(--shadow);
            border-radius: var(--radius);
            padding: 10px 0;
            min-width: 150px;
            display: none;
            z-index: 100;
        }
        
        .export-dropdown:hover .dropdown-menu {
            display: block;
        }
        
        .dropdown-menu a {
            display: block;
            padding: 8px 15px;
            color: var(--gray);
            text-decoration: none;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .dropdown-menu a:hover {
            background-color: rgba(26, 115, 232, 0.1);
            color: var(--primary);
        }
        
        /* User Menu Dropdown */
        .user-menu {
            display: flex;
            align-items: center;
            gap: 15px;
            position: relative;
        }
        
        .notifications {
            position: relative;
            cursor: pointer;
        }
        
        .notifications .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--danger);
            color: white;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 600;
        }
        
        .notification-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: white;
            box-shadow: var(--shadow);
            border-radius: var(--radius);
            padding: 15px;
            min-width: 300px;
            display: none;
            z-index: 100;
        }
        
        .notifications:hover .notification-dropdown {
            display: block;
        }
        
        .notification-item {
            display: flex;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .notification-item:last-child {
            border-bottom: none;
        }
        
        .notification-item i {
            color: var(--primary);
            font-size: 20px;
            margin-top: 5px;
        }
        
        .notification-item div {
            flex: 1;
        }
        
        .notification-item strong {
            display: block;
            font-size: 14px;
        }
        
        .notification-item p {
            font-size: 13px;
            color: var(--gray);
            margin: 5px 0;
        }
        
        .notification-item small {
            font-size: 12px;
            color: var(--gray);
        }
        
        .view-all {
            display: block;
            text-align: center;
            padding: 10px;
            color: var(--primary);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            border-top: 1px solid var(--light-gray);
            margin-top: 10px;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            cursor: pointer;
        }
        
        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: white;
            box-shadow: var(--shadow);
            border-radius: var(--radius);
            padding: 10px 0;
            min-width: 200px;
            display: none;
            z-index: 100;
        }
        
        .user-menu:hover .user-dropdown {
            display: block;
        }
        
        .user-dropdown a {
            display: block;
            padding: 10px 20px;
            color: var(--gray);
            text-decoration: none;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .user-dropdown a:hover {
            background-color: rgba(26, 115, 232, 0.1);
            color: var(--primary);
        }
        
        .user-dropdown .divider {
            height: 1px;
            background-color: var(--light-gray);
            margin: 10px 0;
        }
        
        .user-dropdown .logout {
            color: var(--danger);
        }
        
        /* Sidebar */
        .sidebar {
            width: 250px;
            background-color: white;
            border-right: 1px solid var(--light-gray);
            display: flex;
            flex-direction: column;
        }
        
        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .system-status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }
        
        .status-indicator.online {
            background-color: var(--secondary);
        }
        
        .last-login {
            font-size: 12px;
            color: var(--gray);
        }
        
        .sidebar-menu {
            flex: 1;
            padding: 20px 0;
            list-style: none;
        }
        
        .sidebar-menu li {
            margin-bottom: 5px;
        }
        
        .sidebar-menu a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            color: var(--gray);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .sidebar-menu a:hover,
        .sidebar-menu a.active {
            background-color: rgba(26, 115, 232, 0.1);
            color: var(--primary);
            border-left: 4px solid var(--primary);
        }
        
        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid var(--light-gray);
        }
        
        .quick-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat .stat-value {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary);
        }
        
        .stat .stat-label {
            font-size: 12px;
            color: var(--gray);
        }
        
        .btn-sm {
            padding: 8px 15px;
            font-size: 14px;
        }
        
        /* Switch */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--primary);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .switch label {
            margin-left: 60px;
            font-size: 14px;
            color: var(--dark);
            cursor: pointer;
        }
        
        /* Service List */
        .service-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .service-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .service-name {
            font-weight: 500;
            font-size: 14px;
        }
        
        .service-revenue {
            font-weight: 600;
            color: var(--primary);
        }
        
        .payment-methods {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .payment-method {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .method-name {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .method-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: rgba(26, 115, 232, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
        }
        
        .method-percentage {
            font-weight: 600;
            color: var(--dark);
        }
        
        /* Permissions Grid */
        .permissions-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        /* Responsive Design */
        @media (max-width: 1200px) {
            .dashboard-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--light-gray);
            }
            
            .sidebar-menu {
                display: flex;
                overflow-x: auto;
                padding: 10px 0;
            }
            
            .sidebar-menu li {
                flex-shrink: 0;
            }
            
            .sidebar-menu a {
                border-left: none;
                border-bottom: 3px solid transparent;
                padding: 10px 15px;
            }
            
            .sidebar-menu a.active {
                border-left: none;
                border-bottom: 3px solid var(--primary);
            }
        }
        
        @media (max-width: 768px) {
            .section-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .section-actions {
                width: 100%;
                justify-content: flex-start;
            }
            
            .dashboard-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .financial-summary {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .inventory-summary {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .table-footer {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .bulk-actions {
                width: 100%;
            }
            
            .filter-options {
                width: 100%;
            }
            
            .search-box input {
                width: 100%;
            }
        }
        
        @media (max-width: 576px) {
            .dashboard-stats {
                grid-template-columns: 1fr;
            }
            
            .financial-summary {
                grid-template-columns: 1fr;
            }
            
            .inventory-summary {
                grid-template-columns: 1fr;
            }
            
            .stat-card {
                flex-direction: column;
                text-align: center;
            }
            
            .summary-card {
                flex-direction: column;
                text-align: center;
            }
            
            .quick-actions-grid {
                grid-template-columns: 1fr;
            }
            
            .permissions-grid {
                grid-template-columns: 1fr;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Animation for loading */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .dashboard-section {
            animation: fadeIn 0.3s ease;
        }
        
        /* Loading states */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }
        
        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 30px;
            border: 3px solid var(--light-gray);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        /* Notification styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            z-index: 1000;
            max-width: 350px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 15px;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .notification-success {
            background-color: #d4edda;
            color: #155724;
            border-left: 4px solid var(--secondary);
        }
        
        .notification-error {
            background-color: #f8d7da;
            color: #721c24;
            border-left: 4px solid var(--danger);
        }
        
        .notification-info {
            background-color: #d1ecf1;
            color: #0c5460;
            border-left: 4px solid var(--primary);
        }
        
        .notification-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .notification-close {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: inherit;
            line-height: 1;
        }
    </style>
</body>
</html>